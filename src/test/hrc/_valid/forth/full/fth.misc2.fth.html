<html><body style='color:#000000; background:#ffffff; '><pre>
  0: <span style='color:#696969; '>\ @(#) misc2.fth 98/01/26 1.2</span>
  1: <span style='color:#696969; '>\ Utilities for PForth extracted from HMSL</span>
  2: <span style='color:#696969; '>\</span>
  3: <span style='color:#696969; '>\ Author: Phil Burk</span>
  4: <span style='color:#696969; '>\ Copyright 1994 3DO, Phil Burk, Larry Polansky, Devid Rosenboom</span>
  5: <span style='color:#696969; '>\</span>
  6: <span style='color:#696969; '>\ The pForth software code is dedicated to the public domain,</span>
  7: <span style='color:#696969; '>\ and any third party may reproduce, distribute and modify</span>
  8: <span style='color:#696969; '>\ the pForth software code or any derivative works thereof</span>
  9: <span style='color:#696969; '>\ without any compensation or license.  The pForth software</span>
 10: <span style='color:#696969; '>\ code is provided on an "as is" basis without any warranty</span>
 11: <span style='color:#696969; '>\ of any kind, including, without limitation, the implied</span>
 12: <span style='color:#696969; '>\ warranties of merchantability and fitness for a particular</span>
 13: <span style='color:#696969; '>\ purpose and their equivalents under the laws of any jurisdiction.</span>
 14: <span style='color:#696969; '>\</span>
 15: <span style='color:#696969; '>\ 00001 9/14/92 Added call, 'c w->s</span>
 16: <span style='color:#696969; '>\ 00002 11/23/92 Moved redef of : to loadcom.fth</span>
 17: 
 18: anew task-misc2.fth
 19: 
 20: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>'N</span>  <span style='color:#696969; '>( &lt;name> -- , make 'n state smart )</span>
 21:     <span style='color:#800000; font-weight:bold; '>bl</span> <span style='color:#800000; font-weight:bold; '>word</span> <span style='color:#800000; font-weight:bold; '>find</span>
 22:     <span style='color:#e34adc; '>IF</span>
 23:         <span style='color:#800000; font-weight:bold; '>state</span> <span style='color:#800000; font-weight:bold; '>@</span>
 24:         <span style='color:#e34adc; '>IF</span>    <span style='color:#007997; '>namebase</span> <span style='color:#800000; font-weight:bold; '>-</span> <span style='color:#696969; '>( make nfa relocatable )</span>
 25:             <span style='color:#000000; background:#a8a800; '>[compile]</span> <span style='color:#800000; font-weight:bold; '>literal</span>    <span style='color:#696969; '>( store nfa of word to be compiled )</span>
 26:             <span style='color:#800000; font-weight:bold; '>compile</span> namebase+
 27:         <span style='color:#e34adc; '>THEN</span>
 28:     <span style='color:#e34adc; '>THEN</span>
 29: ; <span style='color:#e34adc; '>IMMEDIATE</span>
 30: 
 31: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>?LITERAL</span>  <span style='color:#696969; '>( n -- , do literal if compiling )</span>
 32:      <span style='color:#800000; font-weight:bold; '>state</span> <span style='color:#800000; font-weight:bold; '>@</span>
 33:      <span style='color:#e34adc; '>IF</span> <span style='color:#000000; background:#a8a800; '>[compile]</span> <span style='color:#800000; font-weight:bold; '>literal</span>
 34:      <span style='color:#e34adc; '>THEN</span>
 35: ;
 36: 
 37: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>'c</span> <span style='color:#696969; '>( &lt;name> -- xt , state sensitive ' )</span>
 38:     ' ?literal
 39: ; <span style='color:#e34adc; '>immediate</span>
 40: 
 41: <span style='color:#800000; font-weight:bold; '>variable</span> if-debug
 42: 
 43: <span style='color:#e34adc; '>decimal</span>
 44: <span style='color:#800000; font-weight:bold; '>create</span> msec-delay <span style='color:#008c00; '>1000</span> <span style='color:#800000; font-weight:bold; '>,</span>  <span style='color:#696969; '>( default for SUN )</span>
 45: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>msec</span> <span style='color:#696969; '>( #msecs -- )</span>
 46:     <span style='color:#008c00; '>0</span>
 47:     <span style='color:#e34adc; '>do</span>  msec-delay <span style='color:#800000; font-weight:bold; '>@</span> <span style='color:#008c00; '>0</span>
 48:         <span style='color:#e34adc; '>do</span> <span style='color:#e34adc; '>loop</span>
 49:     <span style='color:#e34adc; '>loop</span>
 50: ;
 51: 
 52: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>SHIFT</span> <span style='color:#696969; '>( val n -- val&lt;&lt;n )</span>
 53:     <span style='color:#800000; font-weight:bold; '>dup</span> <span style='color:#008c00; '>0</span>&lt;
 54:     <span style='color:#e34adc; '>IF</span> <span style='color:#800000; font-weight:bold; '>negate</span> arshift
 55:     <span style='color:#e34adc; '>ELSE</span> <span style='color:#800000; font-weight:bold; '>lshift</span>
 56:     <span style='color:#e34adc; '>THEN</span>
 57: ;
 58: 
 59: 
 60: <span style='color:#800000; font-weight:bold; '>variable</span> rand-seed <span style='color:#800000; font-weight:bold; '>here</span> rand-seed <span style='color:#800000; font-weight:bold; '>!</span>
 61: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>random</span> <span style='color:#696969; '>( -- random_number )</span>
 62:     rand-seed <span style='color:#800000; font-weight:bold; '>@</span>
 63:     <span style='color:#008c00; '>31421</span> <span style='color:#800000; font-weight:bold; '>*</span> <span style='color:#008c00; '>6927</span> <span style='color:#800000; font-weight:bold; '>+</span> 
 64:     <span style='color:#008c00; '>65535</span> <span style='color:#800000; font-weight:bold; '>and</span> <span style='color:#800000; font-weight:bold; '>dup</span> rand-seed <span style='color:#800000; font-weight:bold; '>!</span>
 65: ;
 66: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>choose</span>  <span style='color:#696969; '>( range -- random_number , in range )</span>
 67:     random <span style='color:#800000; font-weight:bold; '>*</span> -<span style='color:#008c00; '>16</span> shift
 68: ;
 69: 
 70: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>wchoose</span> <span style='color:#696969; '>( hi lo -- random_number )</span>
 71:     <span style='color:#800000; font-weight:bold; '>tuck</span> <span style='color:#800000; font-weight:bold; '>-</span> choose <span style='color:#800000; font-weight:bold; '>+</span>
 72: ;
 73: 
 74: 
 75: <span style='color:#696969; '>\ sort top two items on stack.</span>
 76: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>2sort</span> <span style='color:#696969; '>( a b -- a&lt;b | b&lt;a , largest on top of stack)</span>
 77:     <span style='color:#800000; font-weight:bold; '>2dup</span> <span style='color:#800000; font-weight:bold; '>></span>
 78:     <span style='color:#e34adc; '>if</span> <span style='color:#800000; font-weight:bold; '>swap</span>
 79:     <span style='color:#e34adc; '>then</span>
 80: ;
 81: 
 82: <span style='color:#696969; '>\ sort top two items on stack.</span>
 83: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>-2sort</span> <span style='color:#696969; '>( a b -- a>b | b>a , smallest on top of stack)</span>
 84:     <span style='color:#800000; font-weight:bold; '>2dup</span> <span style='color:#800000; font-weight:bold; '>&lt;</span>
 85:     <span style='color:#e34adc; '>if</span> <span style='color:#800000; font-weight:bold; '>swap</span>
 86:     <span style='color:#e34adc; '>then</span>
 87: ;
 88: 
 89: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>barray</span>  <span style='color:#696969; '>( #bytes -- )</span> <span style='color:#696969; '>( index -- addr )</span>
 90:     <span style='color:#800000; font-weight:bold; '>create</span> <span style='color:#800000; font-weight:bold; '>allot</span>
 91:     <span style='color:#000000; background:#a8a800; '>does></span>  <span style='color:#800000; font-weight:bold; '>+</span>
 92: ;
 93: 
 94: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>warray</span>  <span style='color:#696969; '>( #words -- )</span> <span style='color:#696969; '>( index -- addr )</span>
 95:     <span style='color:#800000; font-weight:bold; '>create</span> <span style='color:#008c00; '>2</span>* <span style='color:#800000; font-weight:bold; '>allot</span>
 96:     <span style='color:#000000; background:#a8a800; '>does></span> <span style='color:#800000; font-weight:bold; '>swap</span> <span style='color:#008c00; '>2</span>* <span style='color:#800000; font-weight:bold; '>+</span>
 97: ;
 98: 
 99: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>array</span>  <span style='color:#696969; '>( #cells -- )</span> <span style='color:#696969; '>( index -- addr )</span>
100:     <span style='color:#800000; font-weight:bold; '>create</span> cell* <span style='color:#800000; font-weight:bold; '>allot</span>
101:     <span style='color:#000000; background:#a8a800; '>does></span> <span style='color:#800000; font-weight:bold; '>swap</span> cell* <span style='color:#800000; font-weight:bold; '>+</span>
102: ;
103: 
104: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>.bin</span>  <span style='color:#696969; '>( n -- , print in binary )</span>
105:     <span style='color:#800000; font-weight:bold; '>base</span> <span style='color:#800000; font-weight:bold; '>@</span> binary <span style='color:#800000; font-weight:bold; '>swap</span> <span style='color:#800000; font-weight:bold; '>.</span> <span style='color:#800000; font-weight:bold; '>base</span> <span style='color:#800000; font-weight:bold; '>!</span>
106: ;
107: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>.dec</span>  <span style='color:#696969; '>( n -- )</span>
108:     <span style='color:#800000; font-weight:bold; '>base</span> <span style='color:#800000; font-weight:bold; '>@</span> <span style='color:#e34adc; '>decimal</span> <span style='color:#800000; font-weight:bold; '>swap</span> <span style='color:#800000; font-weight:bold; '>.</span> <span style='color:#800000; font-weight:bold; '>base</span> <span style='color:#800000; font-weight:bold; '>!</span>
109: ;
110: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>.hex</span>  <span style='color:#696969; '>( n -- )</span>
111:     <span style='color:#800000; font-weight:bold; '>base</span> <span style='color:#800000; font-weight:bold; '>@</span> <span style='color:#e34adc; '>hex</span> <span style='color:#800000; font-weight:bold; '>swap</span> <span style='color:#800000; font-weight:bold; '>.</span> <span style='color:#800000; font-weight:bold; '>base</span> <span style='color:#800000; font-weight:bold; '>!</span>
112: ;
113: 
114: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>B->S</span> <span style='color:#696969; '>( c -- c' , sign extend byte )</span>
115:     <span style='color:#800000; font-weight:bold; '>dup</span> $ <span style='color:#008c00; '>80</span> <span style='color:#800000; font-weight:bold; '>and</span> 
116:     <span style='color:#e34adc; '>IF</span>
117:         $ <span style='color:#008c00; '>FFFFFF00</span> <span style='color:#800000; font-weight:bold; '>or</span>
118:     <span style='color:#e34adc; '>ELSE</span>
119:         $ <span style='color:#008c00; '>000000FF</span> <span style='color:#800000; font-weight:bold; '>and</span>
120:     <span style='color:#e34adc; '>THEN</span>
121: ;
122: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>W->S</span> <span style='color:#696969; '>( 16bit-signed -- 32bit-signed )</span>
123:     <span style='color:#800000; font-weight:bold; '>dup</span> $ <span style='color:#008c00; '>8000</span> <span style='color:#800000; font-weight:bold; '>and</span>
124:     <span style='color:#e34adc; '>if</span>
125:         $ <span style='color:#008c00; '>FFFF0000</span> <span style='color:#800000; font-weight:bold; '>or</span>
126:     <span style='color:#e34adc; '>ELSE</span>
127:         $ <span style='color:#008c00; '>0000FFFF</span> <span style='color:#800000; font-weight:bold; '>and</span>
128:     <span style='color:#e34adc; '>then</span>
129: ;
130: 
131: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>WITHIN</span> { n1 n2 n3 -- flag }
132:     n2 n3 &lt;=
133:     <span style='color:#e34adc; '>IF</span>
134:         n2 n1 &lt;=
135:         n1 n3 <span style='color:#800000; font-weight:bold; '>&lt;</span>  <span style='color:#800000; font-weight:bold; '>AND</span>
136:     <span style='color:#e34adc; '>ELSE</span>
137:         n2 n1 &lt;=
138:         n1 n3 <span style='color:#800000; font-weight:bold; '>&lt;</span>  <span style='color:#800000; font-weight:bold; '>OR</span>
139:     <span style='color:#e34adc; '>THEN</span>
140: ;
141: 
142: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>MOVE</span> <span style='color:#696969; '>( src dst num -- )</span>
143:     <span style='color:#800000; font-weight:bold; '>>r</span> <span style='color:#800000; font-weight:bold; '>2dup</span> <span style='color:#800000; font-weight:bold; '>-</span> <span style='color:#008c00; '>0</span>&lt;
144:     <span style='color:#e34adc; '>IF</span>
145:         <span style='color:#800000; font-weight:bold; '>r></span> <span style='color:#800000; font-weight:bold; '>CMOVE></span>
146:     <span style='color:#e34adc; '>ELSE</span>
147:         <span style='color:#800000; font-weight:bold; '>r></span> <span style='color:#800000; font-weight:bold; '>CMOVE</span>
148:     <span style='color:#e34adc; '>THEN</span>
149: ;
150: 
151: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>ERASE</span> <span style='color:#696969; '>( caddr num -- )</span>
152:     <span style='color:#800000; font-weight:bold; '>dup</span> <span style='color:#008c00; '>0</span>>
153:     <span style='color:#e34adc; '>IF</span>
154:         <span style='color:#008c00; '>0</span> <span style='color:#800000; font-weight:bold; '>fill</span>
155:     <span style='color:#e34adc; '>ELSE</span>
156:         <span style='color:#800000; font-weight:bold; '>2drop</span>
157:     <span style='color:#e34adc; '>THEN</span>
158: ;
159: 
160: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>BLANK</span> <span style='color:#696969; '>( addr u -- , set memory to blank )</span>
161:     <span style='color:#800000; font-weight:bold; '>DUP</span> <span style='color:#008c00; '>0</span>>
162:     <span style='color:#e34adc; '>IF</span>
163:         <span style='color:#800000; font-weight:bold; '>BL</span> <span style='color:#800000; font-weight:bold; '>FILL</span> 
164:     <span style='color:#e34adc; '>ELSE</span> 
165:         <span style='color:#800000; font-weight:bold; '>2DROP</span> 
166:     <span style='color:#e34adc; '>THEN</span> 
167: ;
168: 
169: <span style='color:#696969; '>\ Obsolete but included for CORE EXT word set.</span>
170: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>QUERY</span> <span style='color:#800000; font-weight:bold; '>REFILL</span> <span style='color:#800000; font-weight:bold; '>DROP</span> ;
171: <span style='color:#800000; font-weight:bold; '>VARIABLE </span><span style='color:#000000; background:#a8a800; '>SPAN</span>
172: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>EXPECT</span> <span style='color:#800000; font-weight:bold; '>accept</span> span <span style='color:#800000; font-weight:bold; '>!</span> ;
173: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>TIB</span> <span style='color:#800000; font-weight:bold; '>source</span> <span style='color:#800000; font-weight:bold; '>drop</span> ;
174: 
175: 
176: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>UNUSED</span> <span style='color:#696969; '>( -- unused , dictionary space )</span>
177:     CODELIMIT <span style='color:#800000; font-weight:bold; '>HERE</span> <span style='color:#800000; font-weight:bold; '>-</span>
178: ;
179: 
180: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>MAP</span>  <span style='color:#696969; '>( -- , dump interesting dictionary info )</span>
181:    <span style='color:#0000e6; '> ." Code Segment"</span> <span style='color:#800000; font-weight:bold; '>cr</span>
182:    <span style='color:#0000e6; '> ."    CODEBASE           = "</span> codebase .hex <span style='color:#800000; font-weight:bold; '>cr</span>
183:    <span style='color:#0000e6; '> ."    HERE               = "</span> <span style='color:#800000; font-weight:bold; '>here</span> .hex <span style='color:#800000; font-weight:bold; '>cr</span>
184:    <span style='color:#0000e6; '> ."    CODELIMIT          = "</span> codelimit .hex <span style='color:#800000; font-weight:bold; '>cr</span>
185:    <span style='color:#0000e6; '> ."    Compiled Code Size = "</span> <span style='color:#800000; font-weight:bold; '>here</span> codebase <span style='color:#800000; font-weight:bold; '>-</span> <span style='color:#800000; font-weight:bold; '>.</span> <span style='color:#800000; font-weight:bold; '>cr</span>
186:    <span style='color:#0000e6; '> ."    CODE-SIZE          = "</span> code-size <span style='color:#800000; font-weight:bold; '>@</span> <span style='color:#800000; font-weight:bold; '>.</span> <span style='color:#800000; font-weight:bold; '>cr</span>
187:    <span style='color:#0000e6; '> ."    Code Room UNUSED   = "</span> UNUSED <span style='color:#800000; font-weight:bold; '>.</span> <span style='color:#800000; font-weight:bold; '>cr</span>
188:    <span style='color:#0000e6; '> ." Name Segment"</span> <span style='color:#800000; font-weight:bold; '>cr</span>
189:    <span style='color:#0000e6; '> ."    NAMEBASE           = "</span> <span style='color:#007997; '>namebase</span> .hex <span style='color:#800000; font-weight:bold; '>cr</span>
190:    <span style='color:#0000e6; '> ."    HEADERS-PTR @      = "</span> headers-ptr <span style='color:#800000; font-weight:bold; '>@</span> .hex <span style='color:#800000; font-weight:bold; '>cr</span>
191:    <span style='color:#0000e6; '> ."    NAMELIMIT          = "</span> namelimit .hex <span style='color:#800000; font-weight:bold; '>cr</span>
192:    <span style='color:#0000e6; '> ."    CONTEXT @          = "</span> <span style='color:#800000; font-weight:bold; '>context</span> <span style='color:#800000; font-weight:bold; '>@</span> .hex <span style='color:#800000; font-weight:bold; '>cr</span>
193:    <span style='color:#0000e6; '> ."    LATEST             = "</span> <span style='color:#800000; font-weight:bold; '>latest</span> .hex <span style='color:#0000e6; '> ."  = "</span> <span style='color:#800000; font-weight:bold; '>latest</span> id. <span style='color:#800000; font-weight:bold; '>cr</span>
194:    <span style='color:#0000e6; '> ."    Compiled Name size = "</span> headers-ptr <span style='color:#800000; font-weight:bold; '>@</span> <span style='color:#007997; '>namebase</span> <span style='color:#800000; font-weight:bold; '>-</span> <span style='color:#800000; font-weight:bold; '>.</span> <span style='color:#800000; font-weight:bold; '>cr</span>
195:    <span style='color:#0000e6; '> ."    HEADERS-SIZE       = "</span> headers-size <span style='color:#800000; font-weight:bold; '>@</span> <span style='color:#800000; font-weight:bold; '>.</span> <span style='color:#800000; font-weight:bold; '>cr</span>
196:    <span style='color:#0000e6; '> ."    Name Room Left     = "</span> namelimit headers-ptr <span style='color:#800000; font-weight:bold; '>@</span> <span style='color:#800000; font-weight:bold; '>-</span> <span style='color:#800000; font-weight:bold; '>.</span> <span style='color:#800000; font-weight:bold; '>cr</span>
197: ;
198: 
199: 
200: <span style='color:#696969; '>\ Search for substring S2 in S1</span>
201: <span style='color:#800000; font-weight:bold; '>: </span><span style='color:#000000; background:#a8a800; '>SEARCH</span> <span style='color:#808030; '>{</span><span style='color:#0000e6; '> addr1 cnt1 addr2 cnt2 </span><span style='color:#800000; '>|</span><span style='color:#0f69ff; '> addr3 cnt3 flag </span><span style='color:#808030; '>--</span><span style='color:#0f69ff; '>  addr3 cnt3 flag </span><span style='color:#808030; '>}</span>
202: <span style='color:#696969; '>\ ." Search for " addr2 cnt2 type  ."  in "  addr1 cnt1 type cr</span>
203: <span style='color:#696969; '>\ if true, s1 contains s2 at addr3 with cnt3 chars remaining</span>
204: <span style='color:#696969; '>\ if false, s3 = s1    </span>
205:     addr1 <span style='color:#800000; font-weight:bold; '>-></span> addr3
206:     cnt1 <span style='color:#800000; font-weight:bold; '>-></span> cnt3
207:     cnt1 cnt2 <span style='color:#800000; font-weight:bold; '>&lt;</span> <span style='color:#800000; font-weight:bold; '>not</span>
208:     <span style='color:#e34adc; '>IF</span>
209:         cnt1 cnt2 <span style='color:#800000; font-weight:bold; '>-</span> <span style='color:#008c00; '>1</span>+ <span style='color:#008c00; '>0</span>
210:         <span style='color:#e34adc; '>DO</span>
211:             <span style='color:#800000; font-weight:bold; '>true</span> <span style='color:#800000; font-weight:bold; '>-></span> flag
212:             cnt2 <span style='color:#008c00; '>0</span>
213:             <span style='color:#e34adc; '>?DO</span>
214:                 addr2 i <span style='color:#800000; font-weight:bold; '>chars</span> <span style='color:#800000; font-weight:bold; '>+</span> <span style='color:#008c00; '>c</span>@
215:                 addr1 i j <span style='color:#800000; font-weight:bold; '>+</span> <span style='color:#800000; font-weight:bold; '>chars</span> <span style='color:#800000; font-weight:bold; '>+</span> <span style='color:#008c00; '>c</span>@ <span style='color:#800000; font-weight:bold; '>&lt;></span> <span style='color:#696969; '>\ mismatch?</span>
216:                 <span style='color:#e34adc; '>IF</span>
217:                     <span style='color:#800000; font-weight:bold; '>false</span> <span style='color:#800000; font-weight:bold; '>-></span> flag
218:                     <span style='color:#800000; font-weight:bold; '>LEAVE</span>
219:                 <span style='color:#e34adc; '>THEN</span>
220:             <span style='color:#e34adc; '>LOOP</span>
221:             flag
222:             <span style='color:#e34adc; '>IF</span>
223:                 addr1 i <span style='color:#800000; font-weight:bold; '>chars</span> <span style='color:#800000; font-weight:bold; '>+</span> <span style='color:#800000; font-weight:bold; '>-></span> addr3
224:                 cnt1 i <span style='color:#800000; font-weight:bold; '>-</span> <span style='color:#800000; font-weight:bold; '>-></span> cnt3
225:                 <span style='color:#800000; font-weight:bold; '>LEAVE</span>
226:             <span style='color:#e34adc; '>THEN</span>
227:         <span style='color:#e34adc; '>LOOP</span>
228:     <span style='color:#e34adc; '>THEN</span>
229:     addr3 cnt3 flag
230: ;
231: 
232: 
</pre></body></html>
