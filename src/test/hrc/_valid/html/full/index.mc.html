 0: <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>html</span><span style='color:#a65700; '>></span>
 1: <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>body</span><span style='color:#a65700; '>></span>
 2: <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>b</span><span style='color:#a65700; '>></span>первый тип тэгов<span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>b</span><span style='color:#a65700; '>></span> - <span style='color:#a65700; background:#ffffe8; '>&lt;&amp;</span><span style='color:#000000; background:#ffffe8; '> '../include/dates.mc:now' </span><span style='color:#a65700; background:#ffffe8; '>&amp;></span>
 3: <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>b</span><span style='color:#a65700; '>></span>второй тип тэгов<span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>b</span><span style='color:#a65700; '>></span> - <span style='color:#a65700; background:#ffffe8; '>&lt;%</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$arg1</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#008c00; background:#ffffe8; '>7</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#0000e6; background:#ffffe8; '>'yes'</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#808030; background:#ffffe8; '>:</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#0000e6; background:#ffffe8; '>'no'</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#a65700; background:#ffffe8; '>%></span>
 4: 
 5: here goes some html
 6: 
 7: <span style='color:#000000; background:#ffffe8; '>%    if(</span><span style='color:#000000; background:#ffffe8; '>$a</span><span style='color:#000000; background:#ffffe8; '> = 5)  {          # через % в самом начале строки можно вставлять однострочные вставки на перле</span>
 8:         <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>center</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>b</span><span style='color:#a65700; '>></span>a = <span style='color:#008c00; '>5</span>!<span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>b</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>center</span><span style='color:#a65700; '>></span>
 9: <span style='color:#000000; background:#ffffe8; '>%    }                      # подсветка перловая от </span><span style='color:#800000; background:#ffffe8; '>"</span><span style='color:#0000e6; background:#ffffe8; '>%</span><span style='color:#800000; background:#ffffe8; '>"</span><span style='color:#000000; background:#ffffe8; '> и до конца строки</span>
10: 
11: <span style='color:#a65700; background:#ffffe8; '>&lt;%perl></span><span style='color:#000000; background:#ffffe8; '>     </span><span style='color:#696969; background:#ffffe8; '># sample of %perl section</span><span style='color:#000000; background:#ffffe8; '></span>
12: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#696969; background:#ffffe8; '># в этой и остальных разделах должна быть перловая подсветка</span><span style='color:#000000; background:#ffffe8; '></span>
13: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#696969; background:#ffffe8; '># here goes huge amount of perl code</span><span style='color:#000000; background:#ffffe8; '></span>
14: <span style='color:#000000; background:#ffffe8; '>    </span>
15: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#800000; background:#ffffe8; font-weight:bold; '>my</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>@arr</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
16: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#000000; background:#ffffe8; '>@arr</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#800000; background:#ffffe8; font-weight:bold; '>split</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
17: <span style='color:#800080; background:#ffffe8; '>{</span><span style='color:#000000; background:#ffffe8; '></span>
18: <span style='color:#000000; background:#ffffe8; '>&lt;/%perl></span><span style='color:#000000; background:#ffffff; '></span>
19: <span style='color:#000000; background:#ffffff; '></span>
20: <span style='color:#000000; background:#ffffff; '>  </span><span style='color:#a65700; background:#ffffff; '>&lt;</span><span style='color:#800000; background:#ffffff; font-weight:bold; '>b</span><span style='color:#a65700; background:#ffffff; '>></span><span style='color:#000000; background:#ffffff; '>adsfasdf</span><span style='color:#a65700; background:#ffffff; '>&lt;/</span><span style='color:#800000; background:#ffffff; font-weight:bold; '>b</span><span style='color:#a65700; background:#ffffff; '>></span><span style='color:#000000; background:#ffffff; '></span>
21: <span style='color:#000000; background:#ffffff; '></span>
22: <span style='color:#000000; background:#ffffe8; '>&lt;%perl></span><span style='color:#000000; background:#ffffe8; '></span>
23: <span style='color:#000000; background:#ffffe8; '></span>
24: <span style='color:#800080; background:#ffffe8; '>}</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
25: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#000000; background:#ffffe8; '>$m</span><span style='color:#808030; background:#ffffe8; '>-></span><span style='color:#000000; background:#ffffe8; '>out</span><span style='color:#808030; background:#ffffe8; '>(</span><span style='color:#000000; background:#ffffe8; '>$arr</span><span style='color:#808030; background:#ffffe8; '>[</span><span style='color:#008c00; background:#ffffe8; '>1</span><span style='color:#808030; background:#ffffe8; '>]</span><span style='color:#808030; background:#ffffe8; '>)</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
26: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#696969; background:#ffffe8; '># ...</span><span style='color:#000000; background:#ffffe8; '></span>
27: <span style='color:#a65700; background:#ffffe8; '>&lt;/%perl></span>
28: 
29: <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>body</span><span style='color:#a65700; '>></span>
30: <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>html</span><span style='color:#a65700; '>></span>
31: 
32: <span style='color:#a65700; background:#ffffe8; '>&lt;%init></span><span style='color:#000000; background:#ffffe8; '>     </span><span style='color:#696969; background:#ffffe8; '># sample of %init section</span><span style='color:#000000; background:#ffffe8; '></span>
33: <span style='color:#800000; background:#ffffe8; font-weight:bold; '>my</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$a</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#008c00; background:#ffffe8; '>5</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
34: <span style='color:#a65700; background:#ffffe8; '>&lt;/%init></span>
35: 
36: <span style='color:#a65700; background:#ffffe8; '>&lt;%args></span><span style='color:#000000; background:#ffffe8; '></span>
37: <span style='color:#000000; background:#ffffe8; '>$arg1</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#808030; background:#ffffe8; '>></span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#008c00; background:#ffffe8; '>7</span><span style='color:#000000; background:#ffffe8; '>   </span><span style='color:#696969; background:#ffffe8; '># sample of %args section</span><span style='color:#000000; background:#ffffe8; '></span>
38: <span style='color:#a65700; background:#ffffe8; '>&lt;/%args></span>
39: 
40: <span style='color:#a65700; background:#ffffe8; '>&lt;%flags></span><span style='color:#000000; background:#ffffe8; '>        </span><span style='color:#696969; background:#ffffe8; '># sample of %flags section</span><span style='color:#000000; background:#ffffe8; '></span>
41: <span style='color:#000000; background:#ffffe8; '>inherit </span><span style='color:#808030; background:#ffffe8; '>=></span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#400000; background:#ffffe8; '>undef</span><span style='color:#000000; background:#ffffe8; '></span>
42: <span style='color:#a65700; background:#ffffe8; '>&lt;/%flags></span>
43: 
44: <span style='color:#a65700; background:#ffffe8; '>&lt;%filter></span><span style='color:#000000; background:#ffffe8; '>        </span><span style='color:#696969; background:#ffffe8; '># sample of %filter section</span><span style='color:#000000; background:#ffffe8; '></span>
45: <span style='color:#800000; background:#ffffe8; font-weight:bold; '>s</span><span style='color:#800000; background:#ffffe8; '>{</span><span style='color:#0f69ff; background:#ffffe8; '>\[</span><span style='color:#0000e6; background:#ffffe8; '>link</span><span style='color:#0000e6; background:#ffffe8; '>\s</span><span style='color:#808030; background:#ffffe8; '>+</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#0000e6; background:#ffffe8; '>url</span><span style='color:#0000e6; background:#ffffe8; '>\s</span><span style='color:#808030; background:#ffffe8; '>*</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#0000e6; background:#ffffe8; '>=</span><span style='color:#0000e6; background:#ffffe8; '>\s</span><span style='color:#808030; background:#ffffe8; '>*</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#0000e6; background:#ffffe8; '>"</span><span style='color:#808030; background:#ffffe8; '>(</span><span style='color:#808030; background:#ffffe8; '>.</span><span style='color:#808030; background:#ffffe8; '>+</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#808030; background:#ffffe8; '>)</span><span style='color:#0000e6; background:#ffffe8; '>"</span><span style='color:#0000e6; background:#ffffe8; '>\s</span><span style='color:#808030; background:#ffffe8; '>*</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#0f69ff; background:#ffffe8; '>\]</span><span style='color:#808030; background:#ffffe8; '>(</span><span style='color:#808030; background:#ffffe8; '>.</span><span style='color:#808030; background:#ffffe8; '>+</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#808030; background:#ffffe8; '>)</span><span style='color:#0f69ff; background:#ffffe8; '>\[</span><span style='color:#0000e6; background:#ffffe8; '>/link</span><span style='color:#0f69ff; background:#ffffe8; '>\]</span><span style='color:#800000; background:#ffffe8; '>}</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#800000; background:#ffffe8; '>{</span><span style='color:#808030; background:#ffffe8; '>&lt;</span><span style='color:#000000; background:#ffffe8; '>a href</span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#0000e6; background:#ffffe8; '>"</span><span style='color:#0000e6; background:#ffffe8; '>$1</span><span style='color:#0000e6; background:#ffffe8; '>"</span><span style='color:#808030; background:#ffffe8; '>></span><span style='color:#000000; background:#ffffe8; '>$2</span><span style='color:#40015a; background:#ffffe8; '>&lt;/a></span><span style='color:#800000; background:#ffffe8; '>}</span><span style='color:#800000; background:#ffffe8; font-weight:bold; '>ig</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
46: <span style='color:#800000; background:#ffffe8; font-weight:bold; '>s</span><span style='color:#800000; background:#ffffe8; '>{</span><span style='color:#0f69ff; background:#ffffe8; '>\[</span><span style='color:#0000e6; background:#ffffe8; '>link</span><span style='color:#0000e6; background:#ffffe8; '>\s</span><span style='color:#808030; background:#ffffe8; '>+</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#0000e6; background:#ffffe8; '>url</span><span style='color:#0000e6; background:#ffffe8; '>\s</span><span style='color:#808030; background:#ffffe8; '>*</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#0000e6; background:#ffffe8; '>=</span><span style='color:#0000e6; background:#ffffe8; '>\s</span><span style='color:#808030; background:#ffffe8; '>*</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#0000e6; background:#ffffe8; '>"</span><span style='color:#808030; background:#ffffe8; '>(</span><span style='color:#808030; background:#ffffe8; '>.</span><span style='color:#808030; background:#ffffe8; '>+</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#808030; background:#ffffe8; '>)</span><span style='color:#0000e6; background:#ffffe8; '>"</span><span style='color:#0000e6; background:#ffffe8; '>\s</span><span style='color:#808030; background:#ffffe8; '>+</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#0000e6; background:#ffffe8; '>popup</span><span style='color:#0000e6; background:#ffffe8; '>\s</span><span style='color:#808030; background:#ffffe8; '>*</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#0f69ff; background:#ffffe8; '>\]</span><span style='color:#808030; background:#ffffe8; '>(</span><span style='color:#808030; background:#ffffe8; '>.</span><span style='color:#808030; background:#ffffe8; '>+</span><span style='color:#808030; background:#ffffe8; '>?</span><span style='color:#808030; background:#ffffe8; '>)</span><span style='color:#0f69ff; background:#ffffe8; '>\[</span><span style='color:#0000e6; background:#ffffe8; '>/link</span><span style='color:#0f69ff; background:#ffffe8; '>\]</span><span style='color:#800000; background:#ffffe8; '>}</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#800000; background:#ffffe8; '>{</span><span style='color:#808030; background:#ffffe8; '>&lt;</span><span style='color:#000000; background:#ffffe8; '>a href</span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#0000e6; background:#ffffe8; '>"</span><span style='color:#0000e6; background:#ffffe8; '>$1</span><span style='color:#0000e6; background:#ffffe8; '>"</span><span style='color:#000000; background:#ffffe8; '> target</span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#0000e6; background:#ffffe8; '>"_blank"</span><span style='color:#808030; background:#ffffe8; '>></span><span style='color:#000000; background:#ffffe8; '>$2</span><span style='color:#40015a; background:#ffffe8; '>&lt;/a></span><span style='color:#800000; background:#ffffe8; '>}</span><span style='color:#800000; background:#ffffe8; font-weight:bold; '>ig</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
47: <span style='color:#a65700; background:#ffffe8; '>&lt;/%filter></span>
48: 
49: <span style='color:#a65700; background:#ffffe8; '>&lt;%once></span><span style='color:#000000; background:#ffffe8; '></span>
50: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#696969; background:#ffffe8; '># perl code ...</span><span style='color:#000000; background:#ffffe8; '></span>
51: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#696969; background:#ffffe8; '># ...</span><span style='color:#000000; background:#ffffe8; '></span>
52: <span style='color:#a65700; background:#ffffe8; '>&lt;/%once></span>
53: 
54: <span style='color:#a65700; background:#ffffe8; '>&lt;%method right_column></span><span style='color:#000000; background:#ffffe8; '></span>
55: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#a65700; background:#ffffe8; '>&lt;&amp;</span><span style='color:#000000; background:#ffffe8; '> shared/rightcolumn/articlehelp.mc </span><span style='color:#a65700; background:#ffffe8; '>&amp;></span><span style='color:#000000; background:#ffffe8; '></span>
56: <span style='color:#000000; background:#ffffe8; '>    blah-blah html</span>
57: <span style='color:#a65700; background:#ffffe8; '>&lt;/%method></span>
58: 
59: <span style='color:#a65700; background:#ffffe8; '>&lt;%def .td></span><span style='color:#000000; background:#ffffe8; '></span>
60: <span style='color:#000000; background:#ffffe8; '>%    if(</span><span style='color:#000000; background:#ffffe8; '>$config</span><span style='color:#000000; background:#ffffe8; '>-></span><span style='color:#808030; background:#ffffe8; '>{</span><span style='color:#000000; background:#ffffe8; '>$item</span><span style='color:#808030; background:#ffffe8; '>}</span><span style='color:#000000; background:#ffffe8; '>) {</span><span style='color:#000000; background:#ffffe8; '></span>
61: <span style='color:#000000; background:#ffffe8; '>        </span><span style='color:#a65700; background:#ffffe8; '>&lt;</span><span style='color:#800000; background:#ffffe8; font-weight:bold; '>td</span><span style='color:#274796; background:#ffffe8; '> </span><span style='color:#074726; background:#ffffe8; '>align</span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#0000e6; background:#ffffe8; '>"center"</span><span style='color:#a65700; background:#ffffe8; '>></span><span style='color:#000000; background:#ffffe8; '></span>
62: <span style='color:#000000; background:#ffffe8; '>            </span><span style='color:#a65700; background:#ffffe8; '>&lt;%</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$data</span><span style='color:#808030; background:#ffffe8; '>-></span><span style='color:#808030; background:#ffffe8; '>{</span><span style='color:#000000; background:#ffffe8; '>$item</span><span style='color:#808030; background:#ffffe8; '>}</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#a65700; background:#ffffe8; '>%></span><span style='color:#000000; background:#ffffe8; '></span>
63: <span style='color:#000000; background:#ffffe8; '>        </span><span style='color:#a65700; background:#ffffe8; '>&lt;/</span><span style='color:#800000; background:#ffffe8; font-weight:bold; '>td</span><span style='color:#a65700; background:#ffffe8; '>></span><span style='color:#000000; background:#ffffe8; '></span>
64: <span style='color:#000000; background:#ffffe8; '>%    }</span><span style='color:#000000; background:#ffffe8; '></span>
65: <span style='color:#a65700; background:#ffffe8; '>&lt;%args></span><span style='color:#000000; background:#ffffe8; '></span>
66: <span style='color:#000000; background:#ffffe8; '>$config</span><span style='color:#000000; background:#ffffe8; '></span>
67: <span style='color:#000000; background:#ffffe8; '>$data</span><span style='color:#000000; background:#ffffe8; '></span>
68: <span style='color:#000000; background:#ffffe8; '>$item</span><span style='color:#000000; background:#ffffe8; '></span>
69: <span style='color:#a65700; background:#ffffe8; '>&lt;/%args></span><span style='color:#000000; background:#ffffe8; '></span>
70: <span style='color:#a65700; background:#ffffe8; '>&lt;/%def></span>
71: 
