 0: <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>form</span><span style='color:#274796; '> </span><span style='color:#074726; '>action</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"edit_newspf.mc"</span><span style='color:#274796; '> </span><span style='color:#074726; '>method</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"post"</span><span style='color:#a65700; '>></span>
 1: <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>table</span><span style='color:#274796; '> </span><span style='color:#074726; '>width</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"100%"</span><span style='color:#274796; '> </span><span style='color:#074726; '>border</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"0"</span><span style='color:#274796; '> </span><span style='color:#074726; '>cellpadding</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"4"</span><span style='color:#274796; '> </span><span style='color:#074726; '>cellspacing</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"0"</span><span style='color:#a65700; '>></span>
 2: <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
 3:     <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>
 4:         <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>table</span><span style='color:#a65700; '>></span>
 5:             <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
 6:                 <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#274796; '> </span><span style='color:#074726; '>colspan</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"2"</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>b</span><span style='color:#a65700; '>></span>изменить новость<span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>b</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>hr</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>
 7:             <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
 8:             <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
 9:                 <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>дата<span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>
10:                 <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>input</span><span style='color:#274796; '> </span><span style='color:#074726; '>type</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"text"</span><span style='color:#274796; '> </span><span style='color:#074726; '>name</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"date"</span><span style='color:#274796; '> </span><span style='color:#074726; '>size</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"10"</span><span style='color:#274796; '> </span><span style='color:#074726; '>value</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#a65700; background:#ffffe8; '>&lt;%</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$date</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#a65700; background:#ffffe8; '>%></span><span style='color:#0000e6; '>"</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>
11:             <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
12:             <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
13:                 <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#274796; '> </span><span style='color:#074726; '>valign</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"top"</span><span style='color:#a65700; '>></span>вступление<span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>
14:                 <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>textarea</span><span style='color:#274796; '> </span><span style='color:#074726; '>rows</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"3"</span><span style='color:#274796; '> </span><span style='color:#074726; '>name</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"brief"</span><span style='color:#274796; '> </span><span style='color:#074726; '>cols</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"30"</span><span style='color:#a65700; '>></span><span style='color:#a65700; background:#ffffe8; '>&lt;%</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$brief</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#a65700; background:#ffffe8; '>%></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>textarea</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>
15:             <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
16:             <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
17:                 <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#274796; '> </span><span style='color:#074726; '>valign</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"top"</span><span style='color:#a65700; '>></span>полный текст<span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>
18:                 <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>textarea</span><span style='color:#274796; '> </span><span style='color:#074726; '>rows</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"6"</span><span style='color:#274796; '> </span><span style='color:#074726; '>name</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"news"</span><span style='color:#274796; '> </span><span style='color:#074726; '>cols</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"30"</span><span style='color:#a65700; '>></span><span style='color:#a65700; background:#ffffe8; '>&lt;%</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$news</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#a65700; background:#ffffe8; '>%></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>textarea</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>
19:             <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
20:             <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
21:                 <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#274796; '> </span><span style='color:#074726; '>align</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"right"</span><span style='color:#274796; '> </span><span style='color:#074726; '>colspan</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"2"</span><span style='color:#a65700; '>></span>
22:                     <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>input</span><span style='color:#274796; '> </span><span style='color:#074726; '>type</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"submit"</span><span style='color:#274796; '> </span><span style='color:#074726; '>value</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"сброс"</span><span style='color:#a65700; '>></span>
23:                     <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>input</span><span style='color:#274796; '> </span><span style='color:#074726; '>type</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"submit"</span><span style='color:#274796; '> </span><span style='color:#074726; '>name</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"change_news"</span><span style='color:#274796; '> </span><span style='color:#074726; '>value</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"сохранить"</span><span style='color:#a65700; '>></span>
24:                 <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>
25:             <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
26:         <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>table</span><span style='color:#a65700; '>></span>
27:     <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>td</span><span style='color:#a65700; '>></span>
28: <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>tr</span><span style='color:#a65700; '>></span>
29: <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>table</span><span style='color:#a65700; '>></span>
30: <span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>input</span><span style='color:#274796; '> </span><span style='color:#074726; '>type</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"hidden"</span><span style='color:#274796; '> </span><span style='color:#074726; '>name</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"id"</span><span style='color:#274796; '> </span><span style='color:#074726; '>value</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"</span><span style='color:#a65700; background:#ffffe8; '>&lt;%</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$id</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#a65700; background:#ffffe8; '>%></span><span style='color:#0000e6; '>"</span><span style='color:#a65700; '>></span>
31: <span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>form</span><span style='color:#a65700; '>></span>                        
32: 
33: <span style='color:#a65700; background:#ffffe8; '>&lt;%init></span><span style='color:#000000; background:#ffffe8; '></span>
34: <span style='color:#800000; background:#ffffe8; font-weight:bold; '>my</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$sth</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$dbh</span><span style='color:#808030; background:#ffffe8; '>-></span><span style='color:#000000; background:#ffffe8; '>prepare</span><span style='color:#808030; background:#ffffe8; '>(</span><span style='color:#0000e6; background:#ffffe8; '>"SELECT date, brief, news FROM tbl_news WHERE id = ?"</span><span style='color:#808030; background:#ffffe8; '>)</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
35: <span style='color:#000000; background:#ffffe8; '>$sth</span><span style='color:#808030; background:#ffffe8; '>-></span><span style='color:#000000; background:#ffffe8; '>execute</span><span style='color:#808030; background:#ffffe8; '>(</span><span style='color:#000000; background:#ffffe8; '>$id</span><span style='color:#808030; background:#ffffe8; '>)</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
36: <span style='color:#800000; background:#ffffe8; font-weight:bold; '>my</span><span style='color:#808030; background:#ffffe8; '>(</span><span style='color:#000000; background:#ffffe8; '>$date</span><span style='color:#808030; background:#ffffe8; '>,</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$brief</span><span style='color:#808030; background:#ffffe8; '>,</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$news</span><span style='color:#808030; background:#ffffe8; '>)</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$sth</span><span style='color:#808030; background:#ffffe8; '>-></span><span style='color:#000000; background:#ffffe8; '>fetchrow_array</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
37: <span style='color:#000000; background:#ffffe8; '>$date</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$m</span><span style='color:#808030; background:#ffffe8; '>-></span><span style='color:#000000; background:#ffffe8; '>comp</span><span style='color:#808030; background:#ffffe8; '>(</span><span style='color:#0000e6; background:#ffffe8; '>'../include/dates.mc:frommysql_date'</span><span style='color:#808030; background:#ffffe8; '>,</span><span style='color:#000000; background:#ffffe8; '> date </span><span style='color:#808030; background:#ffffe8; '>=</span><span style='color:#808030; background:#ffffe8; '>></span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$date</span><span style='color:#808030; background:#ffffe8; '>)</span><span style='color:#800080; background:#ffffe8; '>;</span><span style='color:#000000; background:#ffffe8; '></span>
38: <span style='color:#a65700; background:#ffffe8; '>&lt;/%init></span>
39: 
40: <span style='color:#a65700; background:#ffffe8; '>&lt;%args></span><span style='color:#000000; background:#ffffe8; '></span>
41: <span style='color:#000000; background:#ffffe8; '>$id</span><span style='color:#000000; background:#ffffe8; '></span>
42: <span style='color:#a65700; background:#ffffe8; '>&lt;/%args></span>
43: 
