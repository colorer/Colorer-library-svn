 0: <span style='color:#074726; '>USE SYSTEM USE $SCRWORK</span>
 1: <span style='color:#074726; '>DEFINE</span><span style='color:#808030; '>?</span><span style='color:#074726; '> $DATTIM </span><span style='color:#808030; '>%</span><span style='color:#074726; '>IF USE $DATTIM </span><span style='color:#808030; '>%</span><span style='color:#074726; '>FI</span>
 2: <span style='color:#074726; '>PROGRAM $WATCH BASE</span><span style='color:#808030; '>@</span><span style='color:#074726; '> </span><span style='color:#808030; '>.</span><span style='color:#0000e6; '>"</span>
 3: <span style='color:#0000e6; '>Процесс TIMER для выдачи времени на экран."</span>
 4: <span style='color:#808030; '>[</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>*</span><span style='color:#808030; '>]</span>
 5: <span style='color:#008c00; '>0</span><span style='color:#074726; '> </span><span style='color:#808030; '>[</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>=</span><span style='color:#074726; '> КОНФИГУРАЦИЯ</span><span style='color:#808030; '>:</span><span style='color:#074726; '>  </span><span style='color:#008c00; '>0</span><span style='color:#074726; '> </span><span style='color:#808030; '>-</span><span style='color:#074726; '> часы</span><span style='color:#808030; '>:</span><span style='color:#074726; '>минуты</span><span style='color:#808030; '>:</span><span style='color:#074726; '>секунды    </span><span style='color:#008c00; '>1</span><span style='color:#074726; '> </span><span style='color:#808030; '>-</span><span style='color:#074726; '> часы</span><span style='color:#808030; '>:</span><span style='color:#074726; '>минуты  </span><span style='color:#808030; '>]</span>
 6: <span style='color:#074726; '>B10</span>
 7: 
 8: <span style='color:#808030; '>:</span><span style='color:#808030; '>:</span><span style='color:#074726; '> FIX VAR TimFon </span><span style='color:#008c00; '>3</span><span style='color:#074726; '> </span><span style='color:#808030; '>!</span><span style='color:#074726; '> TimFon</span>
 9: <span style='color:#808030; '>:</span><span style='color:#808030; '>:</span><span style='color:#074726; '> FIX VAR TimTxt </span><span style='color:#008c00; '>0</span><span style='color:#074726; '> </span><span style='color:#808030; '>!</span><span style='color:#074726; '> TimTxt</span>
10: <span style='color:#808030; '>:</span><span style='color:#808030; '>:</span><span style='color:#074726; '> FIX VAR TimI   </span><span style='color:#008c00; '>0</span><span style='color:#074726; '> </span><span style='color:#808030; '>!</span><span style='color:#074726; '> TimI</span>
11: <span style='color:#808030; '>:</span><span style='color:#808030; '>:</span><span style='color:#074726; '> FIX VAR TimJ  </span><span style='color:#008c00; '>70</span><span style='color:#074726; '> </span><span style='color:#808030; '>!</span><span style='color:#074726; '> TimJ</span>
12: <span style='color:#bb7977; font-weight:bold; '>   LONG VAR Btime </span><span style='color:#808030; font-weight:bold; '>[</span><span style='color:#bb7977; font-weight:bold; '>системное время в милисекундах</span><span style='color:#808030; font-weight:bold; '>]</span>
13: 
14: <span style='color:#808030; '>:</span><span style='color:#074726; '> PTIM </span><span style='color:#808030; '>[</span><span style='color:#808030; '>]</span><span style='color:#074726; '> TIME </span><span style='color:#008c00; '>55</span><span style='color:#074726; '> </span><span style='color:#808030; '>*</span><span style='color:#074726; '> Btime  </span><span style='color:#808030; '>+</span><span style='color:#074726; '>  </span><span style='color:#008c00; '>1000</span><span style='color:#074726; '> </span><span style='color:#808030; '>/</span><span style='color:#074726; '> D </span><span style='color:#808030; '>[</span><span style='color:#074726; '>время в секундах</span><span style='color:#808030; '>]</span>
15: <span style='color:#bb7977; font-weight:bold; '>  </span><span style='color:#008c00; font-weight:bold; '>60</span><span style='color:#bb7977; font-weight:bold; '> </span><span style='color:#808030; font-weight:bold; '>/</span><span style='color:#bb7977; font-weight:bold; '> </span><span style='color:#808030; font-weight:bold; '>[</span><span style='color:#bb7977; font-weight:bold; '>tm</span><span style='color:#808030; font-weight:bold; '>,</span><span style='color:#bb7977; font-weight:bold; '>s</span><span style='color:#808030; font-weight:bold; '>]</span><span style='color:#bb7977; font-weight:bold; '> E2 </span><span style='color:#008c00; font-weight:bold; '>60</span><span style='color:#bb7977; font-weight:bold; '> </span><span style='color:#808030; font-weight:bold; '>/</span><span style='color:#bb7977; font-weight:bold; '> E2 </span><span style='color:#808030; font-weight:bold; '>[</span><span style='color:#bb7977; font-weight:bold; '>s</span><span style='color:#808030; font-weight:bold; '>,</span><span style='color:#bb7977; font-weight:bold; '>m</span><span style='color:#808030; font-weight:bold; '>,</span><span style='color:#bb7977; font-weight:bold; '>h</span><span style='color:#808030; font-weight:bold; '>]</span><span style='color:#bb7977; font-weight:bold; '>  ShowTim  DDD </span><span style='color:#808030; font-weight:bold; '>[</span><span style='color:#808030; font-weight:bold; '>]</span><span style='color:#bb7977; font-weight:bold; '> </span><span style='color:#808030; font-weight:bold; '>;</span>
16: 
17: <span style='color:#008c00; '>20</span><span style='color:#e34adc; '> </span><span style='color:#008c00; '>100</span><span style='color:#e34adc; '> </span><span style='color:#008c00; '>100</span><span style='color:#e34adc; '> </span><span style='color:#0000e6; '>''</span><span style='color:#e34adc; '> PTIM ::</span><span style='color:#074726; '> TASK TIMER  </span><span style='color:#008c00; '>18</span><span style='color:#074726; '> INTV TIMER</span>
18: <span style='color:#808030; '>:</span><span style='color:#074726; '> OUT2N </span><span style='color:#808030; '>[</span><span style='color:#074726; '>N</span><span style='color:#808030; '>,</span><span style='color:#074726; '>J</span><span style='color:#808030; '>]</span><span style='color:#074726; '> E2 </span><span style='color:#008c00; '>10</span><span style='color:#074726; '> </span><span style='color:#808030; '>/</span><span style='color:#074726; '>  </span><span style='color:#808030; '>[</span><span style='color:#074726; '>J</span><span style='color:#808030; '>,</span><span style='color:#074726; '>NH</span><span style='color:#808030; '>,</span><span style='color:#074726; '>NL</span><span style='color:#808030; '>]</span><span style='color:#074726; '> </span><span style='color:#696969; '>#0 + C3 1+ ! TEXTIM</span>
19: <span style='color:#bb7977; font-weight:bold; '>  </span><span style='color:#808030; font-weight:bold; '>[</span><span style='color:#bb7977; font-weight:bold; '>J</span><span style='color:#808030; font-weight:bold; '>,</span><span style='color:#bb7977; font-weight:bold; '>NH</span><span style='color:#808030; font-weight:bold; '>]</span><span style='color:#bb7977; font-weight:bold; '> C NOT C3 </span><span style='color:#008c00; font-weight:bold; '>1</span><span style='color:#bb7977; font-weight:bold; '> </span><span style='color:#808030; font-weight:bold; '>=</span><span style='color:#bb7977; font-weight:bold; '> </span><span style='color:#808030; font-weight:bold; '>&amp;</span><span style='color:#bb7977; font-weight:bold; '> IF</span><span style='color:#808030; font-weight:bold; '>+</span><span style='color:#bb7977; font-weight:bold; '> H</span><span style='color:#696969; font-weight:bold; '>#SP   #0 + E2 ! TEXTIM [] ;</span>
20: <span style='color:#bb7977; font-weight:bold; '>  </span><span style='color:#808030; font-weight:bold; '>:</span><span style='color:#bb7977; font-weight:bold; '> H</span><span style='color:#696969; font-weight:bold; '>#SP [0] D #  #0 - [K] ;</span>
21: 
22: <span style='color:#808030; '>[</span><span style='color:#074726; '>K</span><span style='color:#808030; '>]</span><span style='color:#074726; '>  C NOT </span><span style='color:#808030; '>%</span><span style='color:#074726; '>IF</span>
23: <span style='color:#e34adc; '>FIX </span><span style='color:#008c00; '>10</span><span style='color:#e34adc; '> BYTE VCTR TEXTIM  </span><span style='color:#0000e6; '>"   :  :   "</span><span style='color:#e34adc; '> </span><span style='color:#008c00; '>0</span><span style='color:#e34adc; '> </span><span style='color:#0000e6; '>' TEXTIM !SB</span>
24: <span style='color:#0000e6; '>:: : ShowTim [S,M,H]  1 OUT2N 4 OUT2N 7 OUT2N</span>
25: <span style='color:#0000e6; '>     TimFon TimTxt  TimI TimJ 0 '</span><span style='color:#e34adc; '> TEXTIM </span><span style='color:#008c00; '>10</span><span style='color:#e34adc; '> OLDCLTS </span><span style='color:#808030; '>[</span><span style='color:#808030; '>]</span><span style='color:#e34adc; '> </span><span style='color:#808030; '>;</span><span style='color:#e34adc; '></span>
26: <span style='color:#e34adc; '>           </span><span style='color:#808030; '>%</span><span style='color:#e34adc; '>FI</span>
27: <span style='color:#e34adc; '></span>
28: <span style='color:#808030; '>[</span><span style='color:#e34adc; '>K</span><span style='color:#808030; '>]</span><span style='color:#e34adc; '> </span><span style='color:#808030; '>%</span><span style='color:#e34adc; '>IF</span>
29: <span style='color:#e34adc; '>FIX </span><span style='color:#008c00; '>8</span><span style='color:#e34adc; '> BYTE VCTR TEXTIM  </span><span style='color:#0000e6; '>"   :   "</span><span style='color:#e34adc; '> </span><span style='color:#008c00; '>0</span><span style='color:#e34adc; '> </span><span style='color:#0000e6; '>' TEXTIM !SB</span>
30: <span style='color:#0000e6; '>:: : ShowTim [S,M,H] 1 OUT2N 4 OUT2N [S] D INV:  []</span>
31: <span style='color:#0000e6; '>     TimFon TimTxt  TimI TimJ 0 '</span><span style='color:#e34adc; '> TEXTIM </span><span style='color:#008c00; '>7</span><span style='color:#e34adc; '> OLDCLTS </span><span style='color:#808030; '>[</span><span style='color:#808030; '>]</span><span style='color:#e34adc; '> </span><span style='color:#808030; '>;</span><span style='color:#e34adc; '></span>
32: <span style='color:#e34adc; '>     :</span><span style='color:#074726; '> INV</span><span style='color:#808030; '>:</span><span style='color:#074726; '> </span><span style='color:#808030; '>[</span><span style='color:#808030; '>]</span><span style='color:#074726; '> </span><span style='color:#008c00; '>3</span><span style='color:#074726; '> TEXTIM </span><span style='color:#696969; '>#  = BR+ #: #  3 ! TEXTIM [] ;</span>
33: <span style='color:#bb7977; font-weight:bold; '>     </span><span style='color:#008c00; font-weight:bold; '>72</span><span style='color:#bb7977; font-weight:bold; '> </span><span style='color:#808030; font-weight:bold; '>!</span><span style='color:#bb7977; font-weight:bold; '> TimJ</span>
34: <span style='color:#bb7977; font-weight:bold; '>    </span><span style='color:#808030; font-weight:bold; '>%</span><span style='color:#bb7977; font-weight:bold; '>FI</span>
35: 
36: <span style='color:#808030; '>:</span><span style='color:#808030; '>:</span><span style='color:#074726; '> </span><span style='color:#808030; '>:</span><span style='color:#074726; '> IniTim  </span><span style='color:#808030; '>[</span><span style='color:#808030; '>]</span><span style='color:#074726; '> TIME </span><span style='color:#808030; '>[</span><span style='color:#074726; '>SS</span><span style='color:#808030; '>,</span><span style='color:#074726; '>S</span><span style='color:#808030; '>,</span><span style='color:#074726; '>M</span><span style='color:#808030; '>,</span><span style='color:#074726; '>H</span><span style='color:#808030; '>]</span><span style='color:#074726; '> </span><span style='color:#008c00; '>60</span><span style='color:#074726; '> </span><span style='color:#808030; '>*</span><span style='color:#074726; '> </span><span style='color:#808030; '>+</span><span style='color:#074726; '> </span><span style='color:#008c00; '>60</span><span style='color:#074726; '> </span><span style='color:#808030; '>*</span><span style='color:#074726; '> </span><span style='color:#808030; '>+</span><span style='color:#074726; '> </span><span style='color:#008c00; '>100</span><span style='color:#074726; '> </span><span style='color:#808030; '>*</span><span style='color:#074726; '> </span><span style='color:#808030; '>+</span><span style='color:#074726; '> </span><span style='color:#008c00; '>10</span><span style='color:#074726; '> </span><span style='color:#808030; '>*</span><span style='color:#074726; '> </span><span style='color:#808030; '>!</span><span style='color:#074726; '> Btime</span>
37: <span style='color:#bb7977; font-weight:bold; '>     </span><span style='color:#808030; font-weight:bold; '>[</span><span style='color:#008c00; font-weight:bold; '>0</span><span style='color:#bb7977; font-weight:bold; '> </span><span style='color:#808030; font-weight:bold; '>!</span><span style='color:#bb7977; font-weight:bold; '> Time </span><span style='color:#808030; font-weight:bold; '>[</span><span style='color:#808030; font-weight:bold; '>]</span><span style='color:#bb7977; font-weight:bold; '> </span><span style='color:#808030; font-weight:bold; '>;</span>
38: 
39: <span style='color:#e34adc; '>DEFINE</span><span style='color:#808030; '>?</span><span style='color:#e34adc; '> OLDCLTS NOT </span><span style='color:#808030; '>%</span><span style='color:#e34adc; '>IF :</span><span style='color:#074726; '> OLDCLTS CLTOS </span><span style='color:#808030; '>;</span><span style='color:#074726; '> </span><span style='color:#808030; '>%</span><span style='color:#074726; '>FI</span>
40: 
41: <span style='color:#074726; '>UNDEF </span><span style='color:#808030; '>!</span><span style='color:#074726; '> BASE</span><span style='color:#808030; '>@</span><span style='color:#074726; '> </span><span style='color:#808030; '>[</span><span style='color:#074726; '>CLEAR $WATCH</span><span style='color:#808030; '>]</span>
42: 
