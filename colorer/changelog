$Revision$
	$Author$ $Date$
	1. если не нашли схему поумолчанию (default), берем первую в списке.
	 реже падаем, и ранее видимо была ошибка.

#Revision: 1784
	#Author: ctapmex Date: 2011-08-30 14:10:18 +0600 (Вт, 30 авг 2011)
	1. еще 1779, но для x86 .

#Revision: 1779
	#Author: ctapmex Date: 2011-08-29 22:27:35 +0600 (Пн, 29 авг 2011)
	1. уменьшаем потребление памяти (на 8 байт каждая) в x64 за счет выравнивания в структурах

#Revision: 1778
	#Author: ctapmex Date: 2011-08-29 17:23:42 +0600 (Пн, 29 авг 2011)
	1. файл проекта для VS2010 colorer.exe
	2. исправление 1175, для работы с не unicode сборкой.

#Revision: 1777
	#Author: ctapmex Date: 2011-08-29 17:19:32 +0600 (Пн, 29 авг 2011)
	1. malloc.c 2.8.5 

#Revision: 1775
	#Author: ctapmex Date: 2011-08-10 22:02:31 +0600 (Ср, 10 авг 2011)
	1. в путях до файлов базы могут быть переменне окружения. 

#Revision: 1752
	#Author: ctapmex Date: 2011-07-14 14:58:32 +0600 (Чт, 14 июл 2011)
	1. rollback InternalString

#Revision: 1750
	#Author: ctapmex Date: 2011-07-13 16:01:06 +0600 (Ср, 13 июл 2011)
	1. 1749 еще раз

#Revision: 1749
	#Author: ctapmex Date: 2011-07-11 00:08:45 +0600 (Пн, 11 июл 2011)
	1. неверное использование глобальной переменной

#Revision: 1746
	#Author: ctapmex Date: 2011-07-10 15:05:16 +0600 (Вс, 10 июл 2011)
	1. Outliner переделан под InternalString как наследник RegionHandler
	2. скрипты makefile

#Revision: 1745
	#Author: ctapmex Date: 2011-07-10 13:57:46 +0600 (Вс, 10 июл 2011)
	1. слито с бранчем ctapmex_internal_string  - переделка работы со строками в ядре парсера.
	прирост скорости от14 до 32 процентов.

#Revision: 1715
	#Author: ctapmex Date: 2011-06-28 16:51:35 +0600 (Вт, 28 июн 2011)
	1. добавлена возможность использовать prototype с одинаковыми именами.
	!! использовать данную возможность нужно только при первичной загрузке базы схем.
	т.е. загрузить базы, загрузить схему, например cpp, попользоваться ей, а потом попытаться 
	заменить её на другую без перезагрузки всей базы, нельзя - будут ошибки

#Revision: 1712
	#Author: ctapmex Date: 2011-06-27 17:28:31 +0600 (Пн, 27 июн 2011)
	1. неверный порядок вызова процедур - обращение к непроинициализированным данным

#Revision: 1687
	#Author: ctapmex Date: 2011-03-18 14:23:15 +0500 (Пт, 18 мар 2011)
	1. ошибка в 1676

#Revision: 1685
	#Author: ctapmex Date: 2011-03-17 23:15:41 +0500 (Чт, 17 мар 2011)
	1. у нас экземпларов CRegExp много, а стек для "рекурсии" должен быть один. 
	в итоге скорость работы практически не отличается от ревизии 1683

#Revision: 1684
	#Author: ctapmex Date: 2011-03-17 17:21:58 +0500 (Чт, 17 мар 2011)
	1. Сливаем с бранчем ctapmex_no_recursion
	избавляемся от рекурсии в CRegExp::lowParse

#Revision: 1683
	#Author: ctapmex Date: 2011-03-16 15:07:35 +0500 (Ср, 16 мар 2011)
	1. небольшая утечка

#Revision: 1676
	#Author: ctapmex Date: 2011-03-13 22:24:53 +0500 (Вс, 13 мар 2011)
	1. оптимизация String::indexOf

#Revision: 1666
	#Author: ctapmex Date: 2011-03-06 21:56:30 +0500 (Вс, 06 мар 2011)
	1. с 3 попытки 1549 закрываем -)

#Revision: 1656
	#Author: ctapmex Date: 2011-02-24 00:02:43 +0500 (Чт, 24 фев 2011)
	1. откат 1631 до лучших времен. плохо тестировал, падает при редактировании текста

#Revision: 1631
	#Author: ctapmex Date: 2011-01-06 00:03:52 +0500 (Чт, 06 янв 2011)
	1. 1549 довел до ума. не течет, удаляется быстро.

#Revision: 1626
	#Author: ctapmex Date: 2010-11-20 22:27:17 +0500 (Сб, 20 ноя 2010)
	1. падение при ошибке открытия файла стиля

#Revision: 1625
	#Author: ctapmex Date: 2010-11-20 20:12:46 +0500 (Сб, 20 ноя 2010)
	1. утечки памяти и обращение к непроинициализированным переменным
	2. 1549 вернул обратно, т.к. все таки течет.

#Revision: 1619
	#Author: ctapmex Date: 2010-11-13 16:53:18 +0500 (Сб, 13 ноя 2010)
	1. при загрузке hrd стилей в случае совпадения имен, новый стиль не грузим. 

#Revision: 1616
	#Author: ctapmex Date: 2010-11-08 20:38:40 +0500 (Пн, 08 ноя 2010)
	1. функция getFileTypesCount

#Revision: 1615
	#Author: ctapmex Date: 2010-11-08 11:16:06 +0500 (Пн, 08 ноя 2010)
	1. переименован функция getParamValueCount в getParamNotDefaultValueCount для 
	отражения точного её значения

#Revision: 1613
	#Author: ctapmex Date: 2010-11-08 10:08:36 +0500 (Пн, 08 ноя 2010)
	1. добавлены функции и процедуры в FileTypeImpl

#Revision: 1609
	#Author: ctapmex Date: 2010-11-02 13:41:44 +0500 (Вт, 02 ноя 2010)
	1. gcc warnings

#Revision: 1606
	#Author: ctapmex Date: 2010-11-01 17:11:28 +0500 (Пн, 01 ноя 2010)
	1. функция ParserFactory::countHRD для получения количества загруженных схем 

#Revision: 1603 $
	#Author: ctapmex Date: 2010-10-31 22:13:57 +0500 (Вс, 31 окт 2010)
	1. утечки памяти

#Revision: 1600
	#Author: ctapmex Date: 2010-10-30 00:21:15 +0600 (Сб, 30 окт 2010)
	1. загрузка нода из hrd-sets вынесена в отдельную функцию. Понадобится для подгрузки
	 своих тем.
	2. docbuilder и catalog вынесены из членов класса ParserFactory. Удаляем их сразу как прочитали.

#Revision: 1599
	#Author: ctapmex Date: 2010-10-27 17:18:17 +0600 (Ср, 27 окт 2010)
	1. при пустом значении параметра log-location в catalog.xml пораждалось исключение.
	 Зачем? проверим сразу. и логи в отладчике чисты.

#Revision: 1597
	#Author: ctapmex Date: 2010-10-26 10:09:08 +0600 (Вт, 26 окт 2010)
	1. warnings в malloc.c при сборке x64. спасибо 2useven10, патчи были высланы автору malloc.c.

#Revision: 1588
	#Author: ctapmex Date: 2010-10-25 13:24:30 +0600 (Пн, 25 окт 2010)
	1. убраны warnings
	2. исправлена ошибка в определении работы 32 битной библиотеки под 64 битной операционкой.

#Revision: 1571
	#Author: ctapmex Date: 2010-10-14 00:06:19 +0600 (Чт, 14 окт 2010)
	1. вынес вызов getenv на уровень выше,зачем часто дергать системную функцию

#Revision: 1570
	#Author: ctapmex Date: 2010-10-13 23:25:14 +0600 (Ср, 13 окт 2010)
	1. поиск модуля colorer_x64 на 64 битной системе
	2. stack overflow из 1563 устранен для всех режимов фара (только win). Хак, но работает.

#Revision: 1566
	#Author: ctapmex Date: 2010-10-07 16:00:01 +0600 (Чт, 07 окт 2010)
	1. 1563 проверено на x64 - небольшая поправка. На моих комьютерах как под x86, так и под x64 перестало
	падать, строка просто не раскрашена до конца. !!НО , даный метод не работает если запустить x86 фар, 
	на x64 операционке.  Адресация не та. Пока так.

#Revision: 1563
	#Author: ctapmex Date: 2010-10-06 12:03:56 +0600 (Ср, 06 окт 2010)
	1. исправлен stack overflow при работе с длинными строками. Нужно проверить на x64 и выставить
	правильное значение.

#Revision: 1549
	#Author: ctapmex Date: 2010-09-20 23:06:59 +0600 (Пн, 20 сен 2010)
	1. исправлен stack overflow при уничтожении ParseCache. Патч работает, утечек памяти нет.
     Но для полного счастья нужно работу с ParseCache переделать. Но это wishe.

#Revision: 1479
	#Author: ctapmex Date: 2010-04-15 20:54:12 +0600 (Чт, 15 апр 2010)
	1. добавлены процедуры FileTypeImpl.addParam и FileTypeImpl.setParamDefaultValue (нельзя зафрендить
	класс FileTypeImpl из внешнего,для библиотеки, класса)

#Revision: 1476
	#Author: ctapmex Date: 2010-04-15 15:54:54 +0600 (Чт, 15 апр 2010)
	1. zlib 1.2.4

#Revision: 1470
	#Author: ctapmex Date: 2010-03-18 13:57:30 +0500 (Чт, 18 мар 2010)
	1. перенес xmldom из ctapmex-xmlparser

#Revision: 1467
	#Author: ctapmex Date: 2010-03-17 15:38:47 +0500 (Ср, 17 мар 2010)
	1. не коммпилировалось под linux
	2. немного форматирования кода

#Revision: 1446
	#Author: ctapmex Date: 2010-03-10 16:41:05 +0500 (Ср, 10 мар 2010)
	1. ошибка в Node::appendChild - если в списке два элемента, то у каждого следующего 
		prev будет указывать на firstChild. 

#Revision: 1440
	#Author: ctapmex Date: 2010-03-07 21:01:55 +0500 (Вс, 07 мар 2010) $
	1. борьба с warning

#Revision: 1431
	#Author: ctapmex Date: 2010-03-06 15:08:36 +0500 (Сб, 06 мар 2010)
	1. еще один  warning r1426
	
#Revision: 1426
  #Author: ctapmex Date: 2010-03-04 21:30:44 +0500 (Чт, 04 мар 2010)
	1. исправлены warnings типа - "In constructor 'A::A(int)' 'A::b' will be initialized after 'S A::a' when initialized here"

#Revision: 1418
  #Author: ctapmex Date: 2010-03-03 16:36:12 +0500 (Ср, 03 мар 2010)
  1. поправлены build.xml, для правильной сборки баз, после реструктуризации
	2. прогон всех тестов, ошибки скинул в todo

#Revision: 1402
  #Author: ctapmex Date: 2010-02-20 14:43:07 +0500 (Сб, 20 фев 2010)
	1. ParserFactory::searchPath кидала много исключений, пытаясь открыть ".colorer5catalog". хотя 
		он должен обрабатываться одним из последних.

#Revision: 1401
  #Author: ctapmex Date: 2010-02-20 14:19:19 +0500 (Сб, 20 фев 2010)
	1. HRCParserImpl::loadSource при exception не востанавливалось значение curInputSource.

#Revision: 1395
  #Author: ctapmex Date: 2010-02-18 10:03:58 +0500 (Чт, 128 фев 2010)
	1. исправление в HRCParserImpl::loadBlockRegions - в названии региона должны
		быть маленькие буквы. Плюс уменьшен размер массива.
