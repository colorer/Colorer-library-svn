 0: <span style='color:#004a43; '>xquery</span><span style='color:#800000; font-weight:bold; '> version</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>1.0</span><span style='color:#800000; '>"</span> <span style='color:#800000; font-weight:bold; '>encoding</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>windows-1251</span><span style='color:#800000; '>"</span><span style='color:#800080; '>;</span>
 1: 
 2: <span style='color:#004a43; '>declare</span><span style='color:#800000; font-weight:bold; '> namespace</span> <span style='color:#004a43; '>def</span> <span style='color:#808030; '>=</span> <span style='color:#800000; '>"</span><span style='color:#666616; '>colorer</span><span style='color:#800080; '>:</span><span style='color:#800000; font-weight:bold; '>//</span><span style='color:#5555dd; '>hrc</span><span style='color:#40015a; '>/lib/default.hrc</span><span style='color:#800000; '>"</span><span style='color:#800080; '>;</span>
 3: 
 4: <span style='color:#004a43; '>declare</span><span style='color:#800000; font-weight:bold; '> variable</span> 
 5:     <span style='color:#696969; '>(: типы от потолка (: из hrc :) берем :)</span>
 6:     $<span style='color:#666616; '>def</span><span style='color:#800080; '>:</span>test1 <span style='color:#800000; font-weight:bold; '>as</span> <span style='color:#666616; '>def</span><span style='color:#800080; '>:</span><span style='color:#0000e6; '>empty</span> <span style='color:#808030; '>:=</span> <span style='color:#40015a; '>aaa</span><span style='color:#800000; font-weight:bold; '>/</span><span style='color:#40015a; '>bbb</span><span style='color:#800080; '>;</span> 
 7: <span style='color:#004a43; '>declare</span><span style='color:#800000; font-weight:bold; '> variable</span> $<span style='color:#666616; '>def</span><span style='color:#800080; '>:</span>test2 <span style='color:#808030; '>:=</span> <span style='color:#40015a; '>aaa</span><span style='color:#800000; font-weight:bold; '>/</span><span style='color:#40015a; '>bbb</span><span style='color:#800080; '>;</span>
 8: <span style='color:#004a43; '>declare</span><span style='color:#800000; font-weight:bold; '> variable</span> $<span style='color:#666616; '>def</span><span style='color:#800080; '>:</span>test3<span style='color:#808030; '>:=</span><span style='color:#40015a; '>aaa</span><span style='color:#800000; font-weight:bold; '>/</span><span style='color:#40015a; '>bbb</span><span style='color:#800080; '>;</span>
 9: <span style='color:#004a43; '>declare</span><span style='color:#800000; font-weight:bold; '> variable</span> $<span style='color:#666616; '>test4</span><span style='color:#808030; '>:=</span><span style='color:#40015a; '>aaa</span><span style='color:#800000; font-weight:bold; '>/</span><span style='color:#40015a; '>bbb</span><span style='color:#800080; '>;</span> <span style='color:#696969; '>(: глюка :)</span>
10: 
11: <span style='color:#004a43; '>declare</span><span style='color:#800000; font-weight:bold; '> function</span><span style='color:#808030; '> </span><span style='color:#666616; '>def</span><span style='color:#800080; '>:</span><span style='color:#0000e6; '>foo</span><span style='color:#808030; '> (</span>$bar <span style='color:#800000; font-weight:bold; '>as</span> <span style='color:#666616; '>xs</span><span style='color:#800080; '>:</span><span style='color:#0000e6; '>string</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>as</span> <span style='color:#666616; '>def</span><span style='color:#800080; '>:</span><span style='color:#0000e6; '>Text</span>
12: <span style='color:#800080; '>{</span>
13:     <span style='color:#800000; font-weight:bold; '>let</span> $<span style='color:#666616; '>xx</span><span style='color:#808030; '>:=</span> <span style='color:#40015a; '>aaa</span><span style='color:#800000; font-weight:bold; '>/</span><span style='color:#40015a; '>bbb</span><span style='color:#44aadd; '>,</span> <span style='color:#696969; '>(: глюка :)</span>
14:     <span style='color:#800000; font-weight:bold; '>let</span> $aa <span style='color:#800000; font-weight:bold; '>as</span> <span style='color:#bb7977; '>empty</span><span style='color:#808030; '>()</span><span style='color:#44aadd; '>?</span> <span style='color:#808030; '>:=</span> <span style='color:#40015a; '>aaa</span><span style='color:#800000; font-weight:bold; '>/</span><span style='color:#40015a; '>bbb</span><span style='color:#44aadd; '>,</span>
15:         $bb <span style='color:#808030; '>:=</span> <span style='color:#40015a; '>aaa</span><span style='color:#800000; font-weight:bold; '>/</span><span style='color:#40015a; '>bbb</span><span style='color:#44aadd; '>,</span>
16:         $<span style='color:#666616; '>cc</span><span style='color:#ffffff; background:#dd0000; font-weight:bold; font-style:italic; '>:</span><span style='color:#ffffff; background:#dd0000; font-weight:bold; font-style:italic; '>=</span> <span style='color:#40015a; '>aaa</span><span style='color:#800000; font-weight:bold; '>/</span><span style='color:#40015a; '>bbb</span> <span style='color:#696969; '>(: совсем плохо... :)</span>
17:     
18:     <span style='color:#a65700; background:#ffffff; '>&lt;</span><span style='color:#5f5035; background:#ffffff; '>aaa</span><span style='color:#a65700; background:#ffffff; '>></span><span style='color:#000000; background:#ffffff; '></span>
19: <span style='color:#000000; background:#ffffff; '>    </span><span style='color:#5f5035; background:#ffffe8; '>{</span><span style='color:#000000; background:#ffffe8; '></span>
20: <span style='color:#000000; background:#ffffe8; '>        </span><span style='color:#800000; background:#ffffe8; font-weight:bold; '>for</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$aa</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#800000; background:#ffffe8; font-weight:bold; '>in</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#000000; background:#ffffe8; '>$n</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#800000; background:#ffffe8; font-weight:bold; '>return</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#40015a; background:#ffffe8; '>xxx</span><span style='color:#000000; background:#ffffe8; '> </span><span style='color:#696969; background:#ffffe8; '>(: и так далее... </span>
21: <span style='color:#696969; background:#ffffe8; '>все возможности будем проверять как-нибудь в другой раз... :)</span><span style='color:#000000; background:#ffffe8; '> </span>
22: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#5f5035; background:#ffffe8; '>}</span><span style='color:#000000; background:#ffffff; '></span>
23: <span style='color:#000000; background:#ffffff; '>    </span><span style='color:#a65700; background:#ffffff; '>&lt;/</span><span style='color:#5f5035; background:#ffffff; '>aaa</span><span style='color:#a65700; background:#ffffff; '>></span>
24: <span style='color:#800080; '>}</span><span style='color:#800080; '>;</span>
25: 
26: <span style='color:#a65700; background:#ffffff; '>&lt;</span><span style='color:#5f5035; background:#ffffff; '>foo</span><span style='color:#a65700; background:#ffffff; '>></span><span style='color:#000000; background:#ffffff; '></span>
27: <span style='color:#5f5035; background:#ffffe8; '>{</span><span style='color:#000000; background:#ffffe8; '></span>
28: <span style='color:#000000; background:#ffffe8; '>    </span><span style='color:#666616; background:#ffffe8; '>def</span><span style='color:#800080; background:#ffffe8; '>:</span><span style='color:#0000e6; background:#ffffe8; '>foo</span><span style='color:#808030; background:#ffffe8; '>(</span><span style='color:#800000; background:#ffffe8; '>"</span><span style='color:#074726; background:#ffffe8; '>&amp;</span><span style='color:#074726; background:#ffffe8; '>lt</span><span style='color:#074726; background:#ffffe8; '>;</span><span style='color:#0000e6; background:#ffffe8; '>фигня</span><span style='color:#074726; background:#ffffe8; '>&amp;</span><span style='color:#074726; background:#ffffe8; '>gt</span><span style='color:#074726; background:#ffffe8; '>;</span><span style='color:#800000; background:#ffffe8; '>"</span><span style='color:#808030; background:#ffffe8; '>)</span><span style='color:#800000; background:#ffffe8; font-weight:bold; '>/</span><span style='color:#40015a; background:#ffffe8; '>bar</span><span style='color:#000000; background:#ffffe8; '></span>
29: <span style='color:#5f5035; background:#ffffe8; '>}</span><span style='color:#000000; background:#ffffff; '></span>
30: <span style='color:#a65700; background:#ffffff; '>&lt;/</span><span style='color:#5f5035; background:#ffffff; '>foo</span><span style='color:#a65700; background:#ffffff; '>></span>
31: 
