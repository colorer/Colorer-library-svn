  0: 
  1: <span style='color:#696969; '>-- this is a comment</span>
  2: <span style='color:#696969; '>% this is a comment too %</span> but_this_is_not
  3: 
  4: some_neutral_text
  5: 
  6: <span style='color:#696969; '>-- some keywords</span>
  7: <span style='color:#800000; font-weight:bold; '>if</span>
  8: <span style='color:#800000; font-weight:bold; '>then</span>
  9: <span style='color:#800000; font-weight:bold; '>when</span>
 10: <span style='color:#800000; font-weight:bold; '>begin</span>
 11: <span style='color:#800000; font-weight:bold; '>machine</span>
 12: <span style='color:#800000; font-weight:bold; '>table</span>
 13: 
 14: <span style='color:#696969; '>-- some types</span>
 15: e : <span style='color:#bb7977; '>node</span><span style='color:#808030; '>;</span>
 16: a2 : <span style='color:#bb7977; '>input</span><span style='color:#808030; '>;</span>
 17: a2 : <span style='color:#bb7977; '>output</span><span style='color:#808030; '>;</span>
 18: a2 : <span style='color:#bb7977; '>bidir</span><span style='color:#808030; '>;</span>
 19: 
 20: <span style='color:#696969; '>-- some build-in primitives</span>
 21: <span style='color:#0000e6; '>soft</span><span style='color:#808030; '>;</span>
 22: <span style='color:#0000e6; '>latch</span><span style='color:#808030; '>;</span>
 23: <span style='color:#0000e6; '>lcell</span><span style='color:#808030; '>;</span>
 24: a<span style='color:#808030; '>=</span><span style='color:#0000e6; '>dff</span><span style='color:#808030; '>(</span>d,clk<span style='color:#808030; '>)</span><span style='color:#808030; '>;</span>
 25: <span style='color:#0000e6; '>dffe</span><span style='color:#808030; '>;</span>
 26: <span style='color:#0000e6; '>global</span><span style='color:#808030; '>;</span>
 27: 
 28: 
 29: <span style='color:#696969; '>-- expressions</span>
 30: a<span style='color:#808030; '>=</span>b+c<span style='color:#808030; '>;</span>
 31: e<span style='color:#808030; '>=</span>!<span style='color:#808030; '>(</span>!<span style='color:#808030; '>(</span>f <span style='color:#808030; '>&amp;</span> c<span style='color:#808030; '>)</span> <span style='color:#808030; '>#</span> <span style='color:#808030; '>(</span>e<span style='color:#808030; '>&amp;</span>v<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>;</span> <span style='color:#696969; '>--fixme: "!" not works as operator</span>
 32: a<span style='color:#808030; '>=</span>b<span style='color:#808030; '>$</span>f<span style='color:#808030; '>;</span>
 33: s<span style='color:#808030; '>=</span><span style='color:#808030; '>(</span>r<span style='color:#808030; '>!=</span><span style='color:#008c00; '>4</span><span style='color:#808030; '>)</span><span style='color:#808030; '>;</span>
 34: w<span style='color:#808030; '>=</span><span style='color:#808030; '>(</span>c<span style='color:#808030; '>>=</span>q<span style='color:#808030; '>)</span><span style='color:#808030; '>;</span>
 35: e<span style='color:#808030; '>=</span><span style='color:#808030; '>(</span>w<span style='color:#808030; '>)</span><span style='color:#800000; font-weight:bold; '>?</span> <span style='color:#008c00; '>1</span> : <span style='color:#008c00; '>B"x"</span><span style='color:#808030; '>;</span>
 36: s<span style='color:#808030; '>=</span>x<span style='color:#808030; '>;</span>
 37: 
 38: 
 39: <span style='color:#696969; '>-- groups (никак особо не выдел€ютс€, и да ладно)</span>
 40: a<span style='color:#808030; '>[</span><span style='color:#008c00; '>7</span><span style='color:#808030; '>..</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>=</span>w.b<span style='color:#808030; '>[</span><span style='color:#008c00; '>7</span><span style='color:#808030; '>..</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>;</span>
 41:  q<span style='color:#808030; '>[</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>..</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>]</span><span style='color:#808030; '>;</span>
 42:   usedw<span style='color:#808030; '>[</span>WIDTHAD-<span style='color:#008c00; '>1</span><span style='color:#808030; '>..</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span>     : <span style='color:#bb7977; '>output</span><span style='color:#808030; '>;</span>   <span style='color:#696969; '>-- # of words in the FIFO</span>
 43:   usedw<span style='color:#808030; '>[</span><span style='color:#008c00; '>7</span><span style='color:#808030; '>..</span>ABC_DEF<span style='color:#808030; '>]</span>     : <span style='color:#bb7977; '>output</span><span style='color:#808030; '>;</span>   <span style='color:#696969; '>-- # of words in the FIFO</span>
 44: 
 45: <span style='color:#696969; '>-- identidiers</span>
 46:   QDF4<span style='color:#808030; '>;</span>
 47:   name_3<span style='color:#808030; '>;</span>
 48:   name1<span style='color:#808030; '>;</span>
 49: 
 50:   <span style='color:#696969; '>-- strings</span>
 51:   <span style='color:#800000; font-weight:bold; '>title</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>string1</span><span style='color:#800000; '>"</span><span style='color:#808030; '>;</span>
 52: <span style='color:#800000; font-weight:bold; '>  if</span> PARAM<span style='color:#808030; '>==</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>string with quotes  </span><span style='color:#800000; '>"</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>here</span><span style='color:#800000; '>"</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>   </span><span style='color:#800000; '>"</span> <span style='color:#800000; font-weight:bold; '>generate</span>
 53: 
 54:   <span style='color:#696969; '>-- Numbers, decimal</span>
 55:   a1<span style='color:#808030; '>=</span>-<span style='color:#008c00; '>20</span><span style='color:#808030; '>;</span>
 56:   a1<span style='color:#808030; '>=</span>+<span style='color:#008c00; '>20</span><span style='color:#808030; '>;</span>
 57:   b<span style='color:#808030; '>=</span><span style='color:#008c00; '>3</span>+f<span style='color:#808030; '>;</span>
 58: 
 59:   <span style='color:#696969; '>-- Numbers, binary</span>
 60:   s<span style='color:#808030; '>=</span><span style='color:#008c00; '>B"1001_0101"</span><span style='color:#808030; '>;</span> <span style='color:#696969; '>-- ok</span>
 61:   s<span style='color:#808030; '>=</span><span style='color:#008c00; '>B"11111"</span><span style='color:#808030; '>;</span>
 62:   s<span style='color:#808030; '>=</span><span style='color:#008c00; '>b"0000"</span><span style='color:#808030; '>;</span>
 63:   s<span style='color:#808030; '>=</span><span style='color:#008c00; '>B"1Xx"</span><span style='color:#808030; '>;</span>
 64:   s<span style='color:#808030; '>=</span><span style='color:#008c00; '>B"xx"</span><span style='color:#808030; '>;</span>
 65:   s<span style='color:#808030; '>=</span><span style='color:#ee00ee; '>B"x12"</span><span style='color:#808030; '>;</span> <span style='color:#696969; '>-- bad</span>
 66:   s<span style='color:#808030; '>=</span><span style='color:#ee00ee; '>B"xs0"</span><span style='color:#808030; '>;</span> <span style='color:#696969; '>-- bad</span>
 67: 
 68:   <span style='color:#696969; '>-- Numbers, hex</span>
 69:   s<span style='color:#808030; '>=</span><span style='color:#008c00; '>H"abd340x"</span><span style='color:#808030; '>;</span>
 70:   s<span style='color:#808030; '>=</span><span style='color:#008c00; '>h"3ABD_340X"</span><span style='color:#808030; '>;</span>
 71:   s<span style='color:#808030; '>=</span><span style='color:#ee00ee; '>H"aRd34"</span><span style='color:#808030; '>;</span> <span style='color:#696969; '>-- bad</span>
 72: 
 73:   <span style='color:#696969; '>-- Numbers, octal</span>
 74:   s<span style='color:#808030; '>=</span><span style='color:#008c00; '>o"1234567"</span><span style='color:#808030; '>;</span>
 75:   s<span style='color:#808030; '>=</span><span style='color:#ee00ee; '>o"12345678"</span><span style='color:#808030; '>;</span>  <span style='color:#696969; '>-- bad</span>
 76: 
 77:   <span style='color:#696969; '>-- Numbers, quaternary</span>
 78:   s<span style='color:#808030; '>=</span><span style='color:#008c00; '>q"0123"</span><span style='color:#808030; '>;</span>
 79:   s<span style='color:#808030; '>=</span><span style='color:#ee00ee; '>q"01234"</span><span style='color:#808030; '>;</span> <span style='color:#696969; '>-- bad</span>
 80: 
 81: <span style='color:#696969; '>-- some structures</span>
 82: 
 83:     <span style='color:#696969; '>-- case &amp; if/then/else/endif</span>
 84: <span style='color:#800000; font-weight:bold; '>    case</span> SS <span style='color:#800000; font-weight:bold; '>is</span>
 85:       <span style='color:#800000; font-weight:bold; '>when</span> S1 <span style='color:#808030; '>=></span> Y2 <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>Vcc</span><span style='color:#808030; '>;</span> Y1 <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>Vcc</span><span style='color:#808030; '>;</span> Q<span style='color:#808030; '>[</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#008c00; '>b"01"</span><span style='color:#808030; '>;</span>
 86: <span style='color:#800000; font-weight:bold; '>        if</span> <span style='color:#808030; '>(</span> <span style='color:#808030; '>(</span> inp2 <span style='color:#808030; '>==</span> <span style='color:#008c00; '>0</span> <span style='color:#808030; '>)</span> <span style='color:#808030; '>&amp;</span> <span style='color:#808030; '>(</span> inp1 <span style='color:#808030; '>==</span> <span style='color:#008c00; '>0</span> <span style='color:#808030; '>)</span> <span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>then</span>
 87:           SS <span style='color:#808030; '>=</span> S0<span style='color:#808030; '>;</span>
 88:         <span style='color:#800000; font-weight:bold; '>else</span>
 89:           SS <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>gnd</span><span style='color:#808030; '>;</span>
 90: <span style='color:#800000; font-weight:bold; '>        end if</span><span style='color:#808030; '>;</span>
 91: <span style='color:#800000; font-weight:bold; '>    end case</span><span style='color:#808030; '>;</span>
 92: 
 93:     <span style='color:#696969; '>-- table</span>
 94: <span style='color:#800000; font-weight:bold; '>    table</span>
 95:         SS, inp2, inp1 <span style='color:#808030; '>=></span> Y2, Y1, SS, Q2, Q1<span style='color:#808030; '>;</span>
 96:         S0,    <span style='color:#008c00; '>0</span>,    <span style='color:#008c00; '>0</span> <span style='color:#808030; '>=></span>  <span style='color:#008c00; '>1</span>,  <span style='color:#008c00; '>0</span>, S2,  <span style='color:#008c00; '>0</span>,  <span style='color:#008c00; '>0</span><span style='color:#808030; '>;</span>
 97:         S0,    <span style='color:#008c00; '>0</span>,    <span style='color:#008c00; '>1</span> <span style='color:#808030; '>=></span>  <span style='color:#008c00; '>1</span>,  <span style='color:#008c00; '>0</span>, S1,  <span style='color:#008c00; '>0</span>,  <span style='color:#008c00; '>0</span><span style='color:#808030; '>;</span>
 98:         S0,    <span style='color:#008c00; '>1</span>,    <span style='color:#008c00; '>0</span> <span style='color:#808030; '>=></span>  <span style='color:#008c00; '>1</span>,  <span style='color:#008c00; '>0</span>, S3,  <span style='color:#008c00; '>0</span>,  <span style='color:#008c00; '>0</span><span style='color:#808030; '>;</span>
 99:         S0,    <span style='color:#008c00; '>1</span>,    <span style='color:#008c00; '>1</span> <span style='color:#808030; '>=></span>  <span style='color:#008c00; '>1</span>,  <span style='color:#008c00; '>0</span>, S1,  <span style='color:#008c00; '>0</span>,  <span style='color:#008c00; '>0</span><span style='color:#808030; '>;</span>
100: <span style='color:#800000; font-weight:bold; '>    end table</span><span style='color:#808030; '>;</span>
101: 
102:     <span style='color:#696969; '>-- defaults</span>
103: <span style='color:#800000; font-weight:bold; '>    DEFAULTS</span>
104:       /local_grant  <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>VCC</span><span style='color:#808030; '>;</span>    <span style='color:#696969; '>% active-low output   %</span>
105:       /request_out  <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>VCC</span><span style='color:#808030; '>;</span>    <span style='color:#696969; '>% signals should default  %</span>
106:       /grant_out    <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>VCC</span><span style='color:#808030; '>;</span>    <span style='color:#696969; '>% to VCC          %</span>
107:     <span style='color:#800000; font-weight:bold; '>END</span> <span style='color:#800000; font-weight:bold; '>DEFAULTS</span><span style='color:#808030; '>;</span>
108: 
109:     <span style='color:#696969; '>-- if/generate</span>
110: <span style='color:#800000; font-weight:bold; '>    if</span> UNDERFLOW_CHECKING<span style='color:#808030; '>==</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>OFF</span><span style='color:#800000; '>"</span> <span style='color:#800000; font-weight:bold; '>generate</span>
111:       valid_rreq <span style='color:#808030; '>=</span> rreq<span style='color:#808030; '>;</span>
112:     <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>generate</span>
113:       valid_rreq <span style='color:#808030; '>=</span> rreq <span style='color:#800000; font-weight:bold; '>and</span> !empty<span style='color:#808030; '>;</span>
114:     <span style='color:#800000; font-weight:bold; '>end</span> <span style='color:#800000; font-weight:bold; '>generate</span><span style='color:#808030; '>;</span> 
115: 
116: 
